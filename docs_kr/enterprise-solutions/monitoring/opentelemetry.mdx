---
title: "OpenTelemetry 통합"
sidebarTitle: "OpenTelemetry"
description: "OpenTelemetry Protocol(OTLP)로 Cline 텔레메트리를 관측성 플랫폼으로 내보냅니다"
---

Cline은 OpenTelemetry Protocol(OTLP)을 사용해 메트릭과 로그를 자체 관측성 인프라로 내보낼 수 있는 선택형(OpenTelemetry) 기능을 제공합니다.

<Note>
OpenTelemetry 통합은 **선택 사항**이며 기존 관측성 인프라가 있는 고급 사용자에게 적합합니다. 대부분의 사용자는 이 기능이 필요하지 않습니다.
</Note>

## OpenTelemetry란?

[OpenTelemetry](https://opentelemetry.io/)는 메트릭, 로그, 트레이스를 수집하고 내보내는 통합 방식을 제공하는 업계 표준 관측성 프레임워크입니다.

Cline의 OpenTelemetry 지원으로 다음을 할 수 있습니다:
- 텔레메트리를 자체 시스템으로 내보내기
- Datadog, New Relic, Grafana Cloud 등 관측성 플랫폼과 통합
- 모니터링 데이터에 대한 완전한 제어 유지
- 기존 조직 모니터링 인프라 활용

## 지원 기능

Cline은 OpenTelemetry의 **OTLP(OpenTelemetry Protocol)** 내보내기를 지원합니다:

<CardGroup cols={2}>
  <Card title="메트릭 내보내기" icon="chart-bar">
    Cline 사용량, 성능, 오류에 대한 메트릭 내보내기
  </Card>
  
  <Card title="로그 내보내기" icon="file-lines">
    디버깅과 분석을 위한 구조화 로그 내보내기
  </Card>
</CardGroup>

### 내보내기 형식

Cline은 세 가지 OTLP 전송 프로토콜을 지원합니다:

- **gRPC**(기본값, 권장)
- **HTTP/protobuf**
- **HTTP/JSON**

## 구성

OpenTelemetry는 [대시보드](https://app.cline.bot/dashboard/organization?tab=settings)의 [원격 구성](/enterprise-solutions/configuration/remote-configuration/overview#how-remote-configuration-works)으로 설정합니다.

### 기본 설정

OpenTelemetry를 활성화하고 OTLP 엔드포인트 및 프로토콜을 선택하세요:

<Frame>
	<img
		src="https://assets.int.cline.bot/assets/open_telemetry_main_options.png"
	/>
</Frame>

gRPC를 사용하는 경우 TLS를 비활성화할 수 있습니다.

콜렉터를 구성한 뒤 로그 및/또는 메트릭 수집을 활성화합니다. 둘 중 하나 이상은 반드시 활성화해야 합니다.

고급 구성이 필요하지 않다면 추가 설정은 필요 없습니다.

### 고급 구성

로그와 메트릭에 대해 커스텀 프로토콜/엔드포인트를 추가할 수 있습니다. 또한 메트릭 내보내기 간격, 로그 배치 크기, 배치 타임아웃, 최대 큐 크기를 설정할 수 있습니다.

<Frame>
	<img
		src="https://assets.int.cline.bot/assets/open_telemetry_metrics_and_logs.png"
	/>
</Frame>

**인증을 위한 커스텀 헤더:**

콜렉터에 인증 헤더가 필요하면 헤더 섹션에서 키-값 쌍을 추가하세요.

<Frame>
	<img
		src="https://assets.int.cline.bot/assets/open_telemetry_headers.png"
	/>
</Frame>

## 통합 예시

### Datadog

Datadog의 OTLP 엔드포인트로 내보내기:

<Frame>
	<img
		src="https://assets.int.cline.bot/assets/open_telemetry_datadog_example.png"
	/>
</Frame>

### New Relic

New Relic으로 내보내기:

<Frame>
	<img
		src="https://assets.int.cline.bot/assets/open_telemetry_relic_example.png"
	/>
</Frame>

### Grafana Cloud

Grafana Cloud로 내보내기:

<Frame>
	<img
		src="https://assets.int.cline.bot/assets/open_telemetry_grafana_example.png"
	/>
</Frame>

## 구성 테스트

구성을 테스트하려면 계정에 로그인한 뒤 작업에서 몇 가지 행동을 수행하고, 내보내기 간격을 기다린 뒤 데이터가 콜렉터에 도착했는지 확인하세요.

## 문제 해결

콜렉터에 데이터가 보이지 않는다면, 가장 쉬운 확인 방법은 에디터에서 개발자 도구를 활성화하는 것입니다.

[웹뷰 개발자 도구](https://code.visualstudio.com/api/extension-guides/webview#inspecting-and-debugging-webviews)를 열어 디버깅할 수 있습니다.

이후 메트릭/로그를 트리거하는 작업(예: Cline으로 작업 수행)을 하면, 콜렉터로 전송할 때 발생하는 오류 로그가 표시됩니다.

로그가 보이지 않는다면 [디버그 모드](#debug-mode)를 활성화하세요.

### 연결 오류

1. **엔드포인트 접근 확인:**
   ```bash
   curl -v https://your-otlp-endpoint:4317
   ```

2. **TLS 비활성화가 필요한지 확인**

3. **인증 헤더 확인:**
   API 키 및 인증 헤더가 올바른지 재확인하세요.

### 디버그 모드

OpenTelemetry 상세 로그를 보기 위해 디버그 로깅을 활성화합니다:

```bash
TEL_DEBUG_DIAGNOSTICS=true code .
```

다음에 대한 상세 정보가 출력됩니다:
- 사용 중인 구성
- 생성되는 exporter
- 연결 시도
- 내보내기 성공/실패

## 내보내는 데이터

OpenTelemetry를 활성화하면 Cline은 다음을 내보냅니다:

### 메트릭
- 기능 사용 횟수
- 작업 실행 메트릭 
- 오류율 및 유형
- 성능 측정

### 로그
- 시스템 이벤트
- 맥락이 포함된 오류 로그
- 운영 정보

<Warning>
내보내는 데이터는 이미 익명화되어 있으며 코드 내용, 파일 경로, 민감 정보는 포함하지 않습니다. 다만, 내보낸 이후 데이터 보안은 사용자가 책임져야 합니다.
</Warning>

## 제한 사항

현재 Cline의 OpenTelemetry 지원:
- ✅ OTLP 메트릭 내보내기(gRPC, HTTP)
- ✅ OTLP 로그 내보내기(gRPC, HTTP)
- ✅ [원격 구성](/enterprise-solutions/configuration/remote-configuration/overview#how-remote-configuration-works)을 통한 기본 설정
- ❌ 분산 트레이싱(아직 미구현)
- ❌ 커스텀 계측 API(아직 노출되지 않음)
- ❌ 샘플링 구성(기본값 사용)

## 모범 사례

1. **먼저 테스트**: 프로덕션 전 콘솔 exporter로 테스트
2. **자격 증명 보안**: API 키를 하드코딩하지 말고 안전한 환경 변수로 관리
3. **비용 모니터링**: 관측성 플랫폼의 데이터 수집 비용 확인
4. **단순하게 시작**: 메트릭만 먼저 시작하고 필요 시 로그 추가
5. **압축 사용**: OTLP는 압축을 지원하므로 엔드포인트 요구사항을 확인

## 다음 단계

<CardGroup cols={2}>
  <Card title="Cline 텔레메트리" icon="chart-simple" href="/enterprise-solutions/monitoring/telemetry">
    간단한 내장 텔레메트리 구성
  </Card>
  
  <Card title="OpenTelemetry 문서" icon="book" href="https://opentelemetry.io/docs/">
    OpenTelemetry 자세히 보기
  </Card>
</CardGroup>
