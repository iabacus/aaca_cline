---
title: "MCP 전송 메커니즘"
description: "Cline과 MCP 서버 간 통신을 위한 두 가지 전송 방식인 표준 입출력(STDIO)과 서버 전송 이벤트(SSE)를 알아보세요. 각각의 특징, 장점, 사용 사례를 설명합니다."
---

Model Context Protocol(MCP)은 Cline과 MCP 서버 간 통신을 위해 두 가지 주요 전송 메커니즘을 지원합니다: 표준 입출력(STDIO)과 서버 전송 이벤트(SSE). 각각의 특징, 장점, 사용 사례가 다릅니다.

## STDIO 전송

STDIO 전송은 로컬 머신에서 실행되며 표준 입출력 스트림을 통해 통신합니다.

### STDIO 전송 동작 방식

1. 클라이언트(Cline)가 MCP 서버를 자식 프로세스로 실행
2. 통신은 프로세스 스트림으로 이루어짐: 클라이언트가 서버의 STDIN에 쓰고, 서버가 STDOUT으로 응답
3. 각 메시지는 줄바꿈 문자로 구분
4. 메시지는 JSON-RPC 2.0 형식

```plaintext
Client                    Server
  |                         |
  |<---- JSON message ----->| (via STDIN)
  |                         | (processes request)
  |<---- JSON message ------| (via STDOUT)
  |                         |
```

### STDIO 특징

-   **로컬성**: Cline과 동일한 머신에서 실행
-   **성능**: 매우 낮은 지연과 오버헤드(네트워크 스택 없음)
-   **단순성**: 네트워크 설정 없이 프로세스 간 직접 통신
-   **관계**: 클라이언트-서버 1:1 관계
-   **보안**: 네트워크 노출이 없어 기본적으로 더 안전

### STDIO 사용 시점

STDIO 전송이 적합한 경우:

-   동일 머신에서 실행되는 로컬 통합/도구
-   보안이 중요한 작업
-   낮은 지연 요구사항
-   단일 클라이언트 시나리오(서버당 하나의 Cline 인스턴스)
-   CLI 도구 또는 IDE 확장

### STDIO 구현 예시

```typescript
import { Server } from "@modelcontextprotocol/sdk/server/index.js"
import { StdioServerTransport } from "@modelcontextprotocol/sdk/server/stdio.js"

const server = new Server({ name: "local-server", version: "1.0.0" })
// Register tools...

// Use STDIO transport
const transport = new StdioServerTransport(server)
transport.listen()
```

## SSE 전송

Server-Sent Events(SSE) 전송은 원격 서버에서 실행되며 HTTP/HTTPS로 통신합니다.

### SSE 전송 동작 방식

1. 클라이언트(Cline)가 HTTP GET 요청으로 서버의 SSE 엔드포인트에 연결
2. 서버가 이벤트를 클라이언트로 푸시할 수 있는 지속 연결이 생성됨
3. 클라이언트 → 서버 통신은 별도 엔드포인트에 HTTP POST 요청으로 수행
4. 통신은 두 채널로 구성됨:
    - 이벤트 스트림(GET): 서버 → 클라이언트 업데이트
    - 메시지 엔드포인트(POST): 클라이언트 → 서버 요청

```plaintext
Client                             Server
  |                                  |
  |---- HTTP GET /events ----------->| (establish SSE connection)
  |<---- SSE event stream -----------| (persistent connection)
  |                                  |
  |---- HTTP POST /message --------->| (client request)
  |<---- SSE event with response ----| (server response)
  |                                  |
```

### SSE 특징

-   **원격 접근**: Cline과 다른 머신에 호스팅 가능
-   **확장성**: 여러 클라이언트를 동시에 처리 가능
-   **프로토콜**: 표준 HTTP 기반(특수 프로토콜 불필요)
-   **지속성**: 서버 → 클라이언트 메시지용 지속 연결 유지
-   **인증**: 표준 HTTP 인증 메커니즘 사용 가능

### SSE 사용 시점

SSE 전송이 적합한 경우:

-   네트워크를 통한 원격 접근
-   다중 클라이언트 시나리오
-   공공 서비스
-   많은 사용자가 접근해야 하는 중앙 집중형 도구
-   웹 서비스 통합

### SSE 구현 예시

```typescript
import { Server } from "@modelcontextprotocol/sdk/server/index.js"
import { SSEServerTransport } from "@modelcontextprotocol/sdk/server/sse.js"
import express from "express"

const app = express()
const server = new Server({ name: "remote-server", version: "1.0.0" })
// Register tools...

// Use SSE transport
const transport = new SSEServerTransport(server)
app.use("/mcp", transport.requestHandler())
app.listen(3000, () => {
	console.log("MCP server listening on port 3000")
})
```

## 로컬 vs 호스팅: 배포 관점

STDIO와 SSE 선택은 MCP 서버 배포 및 관리 방식에 직접적인 영향을 줍니다.

### STDIO: 로컬 배포 모델

STDIO 서버는 Cline과 같은 머신에서 실행되며 다음과 같은 의미가 있습니다:

-   **설치**: 서버 실행 파일을 각 사용자 머신에 설치해야 함
-   **배포**: 운영체제별 설치 패키지가 필요
-   **업데이트**: 각 인스턴스를 개별적으로 업데이트
-   **리소스**: 로컬 머신의 CPU, 메모리, 디스크 사용
-   **접근 제어**: 로컬 파일 시스템 권한에 의존
-   **통합**: 로컬 시스템 리소스(파일, 프로세스)와 쉬운 통합
-   **실행**: Cline과 함께 시작/종료(자식 프로세스 생명주기)
-   **의존성**: 모든 의존성이 사용자 머신에 설치되어야 함

#### 실제 예시

STDIO 기반 로컬 파일 검색 도구는:

-   사용자 머신에서 실행
-   로컬 파일 시스템에 직접 접근
-   Cline이 필요할 때 시작
-   네트워크 설정 불필요
-   Cline과 함께 설치되거나 패키지 매니저로 설치 필요

### SSE: 호스팅 배포 모델

SSE 서버는 원격 서버에 배포되어 네트워크로 접근됩니다:

-   **설치**: 서버에 한 번 설치하면 다수 사용자 접근 가능
-   **배포**: 단일 배포로 여러 클라이언트를 서비스
-   **업데이트**: 중앙 업데이트로 모든 사용자 즉시 반영
-   **리소스**: 서버 리소스를 사용, 로컬 리소스 사용 없음
-   **접근 제어**: 인증/권한 시스템으로 관리
-   **통합**: 사용자별 리소스 통합이 더 복잡
-   **실행**: 독립 서비스로 상시 실행
-   **의존성**: 서버 측에서 관리

#### 실제 예시

SSE 기반 데이터베이스 쿼리 도구는:

-   중앙 서버에서 실행
-   서버 측 자격 증명으로 DB 연결
-   다수 사용자에게 지속적으로 제공
-   적절한 네트워크 보안 설정 필요
-   컨테이너/클라우드 기술로 배포

### 하이브리드 접근

일부 경우 하이브리드 접근이 유용합니다:

1. **STDIO + 네트워크 접근**: 원격 서비스에 대한 프록시 역할을 하는 로컬 STDIO 서버
2. **SSE + 로컬 명령**: 콜백을 통해 클라이언트 머신에서 작업을 트리거하는 원격 SSE 서버
3. **게이트웨이 패턴**: 로컬 작업은 STDIO, 특화 기능은 SSE 서버에 연결

## STDIO와 SSE 선택 기준

| 고려사항        | STDIO                    | SSE                                 |
| -------------------- | ------------------------ | ----------------------------------- |
| **위치**         | 로컬 머신 בלבד       | 로컬 또는 원격                     |
| **클라이언트**          | 단일 클라이언트            | 다중 클라이언트                    |
| **성능**      | 낮은 지연            | 높은 지연(네트워크 오버헤드)   |
| **설정 복잡도** | 단순                  | 복잡(HTTP 서버 필요) |
| **보안**         | 기본적으로 안전        | 명시적 보안 조치 필요 |
| **네트워크 접근**   | 불필요               | 필요                            |
| **확장성**      | 로컬 머신에 제한 | 네트워크로 분산 가능       |
| **배포**       | 사용자별 설치    | 중앙 설치            |
| **업데이트**          | 분산 업데이트      | 중앙 업데이트                 |
| **리소스 사용**   | 클라이언트 리소스 사용    | 서버 리소스 사용               |
| **의존성**     | 클라이언트 측 의존성 | 서버 측 의존성            |

## Cline에서 전송 구성

Cline에서 STDIO/SSE 전송 설정에 대한 자세한 내용은 [MCP 서버 구성](/mcp/configuring-mcp-servers)을 참고하세요.
