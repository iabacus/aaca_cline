---
title: "API Key (간편 설정)"
sidebarTitle: "API Key"
description: "Bedrock API 키를 사용해 Cline에서 AWS Bedrock을 설정하세요. 개인 개발자가 프런티어 모델에 접근하기 위한 가장 간단한 설정입니다."
---

### 개요

-   **AWS Bedrock:** AWS를 통해 주요 생성형 AI 모델(예: Anthropic Claude, Amazon Nova)에 접근할 수 있는 완전 관리형 서비스입니다.\
    [AWS Bedrock 자세히 보기](https://docs.aws.amazon.com/bedrock/latest/userguide/what-is-bedrock.html).
-   **Cline:** AI 모델과 통합되어 코드 생성, 디버깅, 데이터 분석을 돕는 VS Code 확장입니다.
-   **개인 개발자 중심:** 이 가이드는 API 키를 사용한 간소화된 설정으로 AWS Bedrock을 통해 프런티어 모델에 접근하려는 개인 개발자를 대상으로 합니다.

---

### 1단계: AWS 환경 준비

#### 1.1 개인 사용자 설정 - Bedrock API 키 생성

자세한 지침은 [문서](https://docs.aws.amazon.com/bedrock/latest/userguide/api-keys.html)를 참고하세요.

1. **AWS Management Console 로그인:**\
   [AWS Console](https://aws.amazon.com/console/)
2. **Bedrock 콘솔 접근:**
    - [Bedrock Console](https://console.aws.amazon.com/bedrock)
    - 새 Long Lived API Key를 생성합니다. 기본적으로 `AmazonBedrockLimitedAccess` IAM 정책이 적용됩니다.
      [AmazonBedrockLimitedAccess 정책 상세 보기](https://docs.aws.amazon.com/bedrock/latest/userguide/security-iam.html)

#### 1.2 정책 생성 또는 수정

Cline이 AWS Bedrock과 상호작용하려면 IAM 사용자 또는 역할에 특정 권한이 필요합니다. `AmazonBedrockLimitedAccess` 관리형 정책은 포괄적인 권한을 제공하지만, 최소 권한 원칙에 따라 더 제한적이고 안전한 구성을 원한다면 아래 최소 권한만으로도 Cline의 핵심 모델 호출 기능을 사용할 수 있습니다:

-   `bedrock:InvokeModel`
-   `bedrock:InvokeModelWithResponseStream`
-   `bedrock:CallWithBearerToken`

이 권한으로 사용자 지정 IAM 정책을 만들고 IAM 사용자 또는 역할에 연결할 수 있습니다.

1.  AWS IAM 콘솔에서 새 정책을 생성합니다.
2.  JSON 편집기로 아래 정책 문서를 추가합니다:
    ```json
    {
    	"Version": "2012-10-17",
    	"Statement": [
    		{
    			"Effect": "Allow",
    			"Action": ["bedrock:InvokeModel", "bedrock:InvokeModelWithResponseStream", "bedrock:CallWithBearerToken"],
    			"Resource": "*" // 보안 강화를 위해 가능하면 특정 모델 ARN으로 범위를 제한하세요.
    		}
    	]
    }
    ```
3.  정책에 이름을 지정하고(예: `ClineBedrockInvokeAccess`) 생성한 키와 연결된 IAM 사용자에 연결합니다. IAM 사용자와 API 키는 동일한 접두사를 가집니다.

**중요 고려사항:**

-   **Cline에서 모델 목록 표시:** 최소 권한(`bedrock:InvokeModel`, `bedrock:InvokeModelWithResponseStream`)은 Cline 설정에서 모델 ID를 직접 지정하는 경우 모델을 _사용_ 하는 데 충분합니다. Cline이 Bedrock 모델 목록을 동적으로 나열하도록 하려면 `bedrock:ListFoundationModels` 같은 추가 권한이 필요할 수 있습니다.
-   **AWS Marketplace 구독:** 서드파티 모델(예: Anthropic Claude)에 대해 **`AmazonBedrockLimitedAccess`** 정책은 AWS Marketplace를 통해 구독하는 데 필요한 권한을 부여합니다. 별도의 액세스 활성화는 필요하지 않습니다. Anthropic 모델은 콘솔에서 First Time Use(FTU) 양식을 제출해야 합니다. Cline 채팅에서 `[ERROR] Failed to process response: Model use case details have not been submitted for this account. Fill out the Anthropic use case details form before using the model.` 메시지가 뜬다면 [AWS Bedrock Console의 Playground](https://console.aws.amazon.com/bedrock/home?#/text-generation-playground)를 열어 Anthropic 모델을 선택하고 양식을 작성하세요(프롬프트를 한 번 전송해야 할 수도 있습니다).

---

### 2단계: 리전 및 모델 접근 확인

#### 2.1 리전 선택 및 확인

1. **리전 선택:**\
   AWS Bedrock은 여러 리전(예: 미국 동부, 유럽, 아시아 태평양)에서 제공됩니다. 지연 시간과 규정 준수 요구를 충족하는 리전을 선택하세요.\
   [AWS 글로벌 인프라](https://aws.amazon.com/about-aws/global-infrastructure/regions_az/)
2. **모델 접근 확인:**
    - **참고:** 일부 모델은 [Inference Profile](https://docs.aws.amazon.com/bedrock/latest/userguide/inference-profiles-support.html)을 통해서만 접근할 수 있습니다. 이 경우 "Cross Region Inference"를 체크하세요.

---

### 3단계: Cline VS Code 확장 설정

#### 3.1 Cline 설치 및 열기

1. **VS Code 설치:**\
   [VS Code 웹사이트](https://code.visualstudio.com/)에서 다운로드합니다.
2. **Cline 확장 설치:**
    - VS Code를 엽니다.
    - 확장 마켓플레이스(`Ctrl+Shift+X` 또는 `Cmd+Shift+X`)를 엽니다.
    - **Cline**을 검색해 설치합니다.

#### 3.2 Cline 설정 구성

1. **Cline 설정 열기:**
    - 설정 ⚙️을 클릭해 API Provider를 선택합니다.
2. **API Provider로 AWS Bedrock 선택:**
    - API Provider 드롭다운에서 **AWS Bedrock**을 선택합니다.
3. **AWS API 키 입력:**
    - **API Key**를 입력합니다.
    - 올바른 **AWS Region**(예: `us-east-1` 또는 회사 승인 리전)을 지정합니다.
4. **모델 선택:**
    - 온디맨드 모델을 선택합니다(예: **anthropic.claude-3-5-sonnet-20241022-v2:0**).
5. **저장 및 테스트:**
    - **Done/Save**를 클릭해 설정을 적용합니다.
    - 간단한 프롬프트(예: "소수가 맞는지 확인하는 Python 함수를 만들어 줘.")로 통합을 테스트합니다.

---

### 4단계: 보안, 모니터링, 모범 사례

1. **접근 보안:**
    - 가능하면 장기 API 키보다 AWS SSO/연합 역할을 사용하세요.
    - [AWS IAM 모범 사례](https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html)
2. **네트워크 보안 강화:**
    - Bedrock에 안전하게 연결하려면 [AWS PrivateLink](https://docs.aws.amazon.com/vpc/latest/userguide/endpoint-services-overview.html)를 고려하세요.
3. **활동 모니터링 및 로깅:**
    - AWS CloudTrail을 활성화하여 Bedrock API 호출을 로깅합니다.
    - CloudWatch로 호출 횟수, 지연 시간, 토큰 사용량 같은 지표를 모니터링합니다.
    - 비정상 활동에 대한 경보를 설정합니다.
4. **오류 처리 및 비용 관리:**
    - 스로틀링 오류에 대해 지수 백오프를 구현합니다.
    - AWS Cost Explorer를 사용하고 결제 알림을 설정해 사용량을 추적합니다.\
      [AWS Cost Management](https://docs.aws.amazon.com/cost-management/latest/userguide/what-is-aws-cost-management.html)
5. **정기 감사 및 준수:**
    - IAM 역할과 CloudTrail 로그를 주기적으로 검토합니다.
    - 내부 데이터 프라이버시 및 거버넌스 정책을 따릅니다.

---

### 결론

다음 단계를 따르면 Cline VS Code 확장에서 AWS Bedrock을 빠르게 통합해 개발 속도를 높일 수 있습니다:

1. **AWS 환경 준비:** 필요한 권한으로 Bedrock API 키를 생성합니다.
2. **리전 및 모델 접근 확인:** 선택한 리전이 필요한 모델을 지원하는지 확인합니다.
3. **VS Code에서 Cline 설정:** AWS API 키로 Cline을 설정하고 적절한 모델을 선택합니다.
4. **보안 및 모니터링 구현:** IAM, 네트워크 보안, 모니터링, 비용 관리에 대한 모범 사례를 적용합니다.

자세한 내용은 [AWS Bedrock 문서](https://docs.aws.amazon.com/bedrock/latest/userguide/what-is-bedrock.html)를 참고하세요. 즐거운 코딩 되세요!

---

_이 가이드는 AWS Bedrock과 Cline의 변화에 따라 업데이트됩니다. 최신 정보는 공식 문서와 내부 정책을 참고하세요._
