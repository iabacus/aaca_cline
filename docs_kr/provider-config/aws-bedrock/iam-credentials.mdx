---
title: "IAM 자격 증명"
sidebarTitle: "IAM 자격 증명"
description: "IAM Access Key 및 Secret Key로 Cline에서 AWS Bedrock을 설정합니다. IAM 정책이 구축된 엔터프라이즈 환경에 적합합니다."
---

### 개요

-   **AWS Bedrock:** AWS를 통해 주요 생성형 AI 모델(예: Anthropic Claude, Amazon Nova)에 접근할 수 있는 완전 관리형 서비스입니다.\
    [AWS Bedrock 자세히 보기](https://docs.aws.amazon.com/bedrock/latest/userguide/what-is-bedrock.html).
-   **Cline:** AI 모델과 통합되어 코드 생성, 디버깅, 데이터 분석을 돕는 VS Code 확장입니다.
-   **엔터프라이즈 중심:** 이 가이드는 IAM 역할, AWS SSO, AWS Organizations 등 이미 구축된 AWS 환경을 갖춘 조직에서 안전하고 준수되는 사용을 위한 설정을 다룹니다.

---

### 1단계: AWS 환경 준비

#### 1.1 IAM 역할/사용자 생성 또는 사용

1. **AWS Management Console 로그인:**\
   [AWS Console](https://aws.amazon.com/console/)
2. **IAM 접근:**
    - AWS 콘솔에서 **IAM(Identity and Access Management)**을 검색합니다.
    - 새 IAM 사용자를 만들거나, 회사의 AWS SSO를 사용해 Bedrock 접근용 전용 역할을 가정합니다.
    - [AWS IAM 사용자 가이드](https://docs.aws.amazon.com/IAM/latest/UserGuide/introduction.html)

#### 1.2 필요한 정책 연결

Cline이 AWS Bedrock과 상호작용하려면 IAM 사용자 또는 역할에 특정 권한이 필요합니다. `AmazonBedrockLimitedAccess` 관리형 정책은 포괄적인 권한을 제공하지만, 최소 권한 원칙에 따라 더 제한적이고 안전한 구성을 원한다면 아래 최소 권한만으로도 Cline의 핵심 모델 호출 기능을 사용할 수 있습니다:

-   `bedrock:InvokeModel`
-   `bedrock:InvokeModelWithResponseStream`

이 권한으로 사용자 지정 IAM 정책을 만들고 IAM 사용자 또는 역할에 연결할 수 있습니다.

**옵션 1: 최소 권한(프로덕션 및 최소 권한 원칙 권장)**

1.  AWS IAM 콘솔에서 새 정책을 생성합니다.
2.  JSON 편집기로 아래 정책 문서를 추가합니다:
    ```json
    {
    	"Version": "2012-10-17",
    	"Statement": [
    		{
    			"Effect": "Allow",
    			"Action": ["bedrock:InvokeModel", "bedrock:InvokeModelWithResponseStream"],
    			"Resource": "*" // 보안 강화를 위해 가능하면 특정 모델 ARN으로 범위를 제한하세요.
    		}
    	]
    }
    ```
3.  정책에 이름을 지정하고(예: `ClineBedrockInvokeAccess`) IAM 사용자 또는 역할에 연결합니다.

**옵션 2: 관리형 정책 사용(초기 설정이 더 간단)**

-   대안으로 AWS 관리형 정책 **`AmazonBedrockLimitedAccess`**를 연결할 수 있습니다. 이 정책은 모델 목록 조회, 프로비저닝 관리 등 Bedrock의 더 넓은 기능을 포함하는 권한을 제공합니다. 초기 설정이 간단하거나 이러한 추가 기능이 필요한 경우 유용합니다.
    [AmazonBedrockLimitedAccess 정책 상세 보기](https://docs.aws.amazon.com/bedrock/latest/userguide/security-iam.html)

**중요 고려사항:**

-   **Cline에서 모델 목록 표시:** 최소 권한(`bedrock:InvokeModel`, `bedrock:InvokeModelWithResponseStream`)은 Cline 설정에서 모델 ID를 직접 지정하는 경우 모델을 _사용_ 하는 데 충분합니다. Cline이 Bedrock 모델 목록을 동적으로 나열하도록 하려면 `bedrock:ListFoundationModels` 같은 추가 권한이 필요할 수 있습니다.
-   **AWS Marketplace 구독:** 서드파티 모델(예: Anthropic Claude)을 사용하려면 활성화된 AWS Marketplace 구독이 필요합니다. 이는 보통 AWS Bedrock 콘솔의 "Model access"에서 관리하며, 아직 처리되지 않은 경우 `aws-marketplace:Subscribe` 권한이 필요할 수 있습니다.
-   _엔터프라이즈 팁:_ 항상 최소 권한 원칙을 적용하세요. 가능하면 IAM 정책의 리소스 ARN 범위를 특정 모델 또는 리전으로 제한하세요. AWS Organizations의 전반적 거버넌스를 위해 [Service Control Policies(SCPs)](https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_scps.html)를 활용하세요.

---

### 2단계: 리전 및 모델 접근 확인

#### 2.1 리전 선택 및 확인

1. **리전 선택:**\
   AWS Bedrock은 여러 리전(예: 미국 동부, 유럽, 아시아 태평양)에서 제공됩니다. 지연 시간과 규정 준수 요구를 충족하는 리전을 선택하세요.\
   [AWS 글로벌 인프라](https://aws.amazon.com/about-aws/global-infrastructure/regions_az/)
2. **모델 접근 확인:**
    - AWS Bedrock 콘솔에서 팀에 필요한 모델(예: Anthropic Claude, Amazon Nova)이 "Access granted"로 표시되는지 확인합니다.
    - **참고:** 일부 고급 모델은 온디맨드가 아닌 경우 [Inference Profile](https://docs.aws.amazon.com/bedrock/latest/userguide/inference-profiles-support.html)이 필요할 수 있습니다.

#### 2.2 AWS Marketplace 구독 설정(필요 시)

1. **서드파티 모델 구독:**
    - AWS Bedrock 콘솔로 이동해 모델 구독 섹션을 찾습니다.
    - 서드파티 제공자(예: Anthropic)의 모델에 대해 약관을 수락해 구독합니다.
    - [AWS Marketplace](https://aws.amazon.com/marketplace/)
2. **엔터프라이즈 팁:**
    - 모델 구독은 종종 중앙에서 관리됩니다. 표준 구독 절차가 있는지 클라우드 팀에 확인하세요.

---

### 3단계: Cline VS Code 확장 설정

#### 3.1 Cline 설치 및 열기

1. **VS Code 설치:**\
   [VS Code 웹사이트](https://code.visualstudio.com/)에서 다운로드합니다.
2. **Cline 확장 설치:**
    - VS Code를 엽니다.
    - 확장 마켓플레이스(`Ctrl+Shift+X` 또는 `Cmd+Shift+X`)를 엽니다.
    - **Cline**을 검색해 설치합니다.

#### 3.2 Cline 설정 구성

1. **Cline 설정 열기:**
    - 설정 ⚙️을 클릭해 API Provider를 선택합니다.
2. **API Provider로 AWS Bedrock 선택:**
    - API Provider 드롭다운에서 **AWS Bedrock**을 선택합니다.
3. **AWS 자격 증명 입력:**
    - **Access Key**와 **Secret Key**를 입력합니다(또는 AWS SSO를 사용하는 경우 임시 자격 증명을 사용).
    - 올바른 **AWS Region**(예: `us-east-1` 또는 회사 승인 리전)을 지정합니다.
4. **모델 선택:**
    - 온디맨드 모델을 선택합니다(예: **anthropic.claude-3-5-sonnet-20241022-v2:0**).
5. **저장 및 테스트:**
    - **Done/Save**를 클릭해 설정을 적용합니다.
    - 간단한 프롬프트(예: "소수가 맞는지 확인하는 Python 함수를 만들어 줘.")로 통합을 테스트합니다.

---

### 4단계: 보안, 모니터링, 모범 사례

1. **접근 보안:**
    - 장기 IAM 자격 증명보다 AWS SSO/연합 역할을 선호하세요.
    - [AWS IAM 모범 사례](https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html)
2. **네트워크 보안 강화:**
    - Bedrock에 안전하게 연결하려면 [AWS PrivateLink](https://docs.aws.amazon.com/vpc/latest/userguide/endpoint-services-overview.html)를 고려하세요.
3. **활동 모니터링 및 로깅:**
    - AWS CloudTrail을 활성화하여 Bedrock API 호출을 로깅합니다.
    - CloudWatch로 호출 횟수, 지연 시간, 토큰 사용량 같은 지표를 모니터링합니다.
    - 비정상 활동에 대한 경보를 설정합니다.
4. **오류 처리 및 비용 관리:**
    - 스로틀링 오류에 대해 지수 백오프를 구현합니다.
    - AWS Cost Explorer를 사용하고 결제 알림을 설정해 사용량을 추적합니다.\
      [AWS Cost Management](https://docs.aws.amazon.com/cost-management/latest/userguide/what-is-aws-cost-management.html)
5. **정기 감사 및 준수:**
    - IAM 역할과 CloudTrail 로그를 주기적으로 검토합니다.
    - 내부 데이터 프라이버시 및 거버넌스 정책을 따릅니다.

---

### 결론

다음 단계를 따르면 엔터프라이즈 팀이 Cline VS Code 확장에서 AWS Bedrock을 안전하게 통합해 개발 속도를 높일 수 있습니다:

1. **AWS 환경 준비:** 안전한 IAM 역할/사용자를 생성하거나 사용하고, `AmazonBedrockLimitedAccess` 정책을 연결하며 필요한 권한을 확인합니다.
2. **리전 및 모델 접근 확인:** 선택한 리전이 필요한 모델을 지원하는지 확인하고, 필요 시 AWS Marketplace에서 구독합니다.
3. **VS Code에서 Cline 설정:** AWS 자격 증명으로 Cline을 설정하고 적절한 모델을 선택합니다.
4. **보안 및 모니터링 구현:** IAM, 네트워크 보안, 모니터링, 비용 관리 모범 사례를 적용합니다.

자세한 내용은 [AWS Bedrock 문서](https://docs.aws.amazon.com/bedrock/latest/userguide/what-is-bedrock.html)를 참고하고 내부 클라우드 팀과 협의하세요. 즐거운 코딩 되세요!

---

_이 가이드는 AWS Bedrock과 Cline의 변화에 따라 업데이트됩니다. 최신 정보는 공식 문서와 내부 정책을 참고하세요._
